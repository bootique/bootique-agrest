# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.0-STABLE) AND type IN (push) AND repo = bootique/bootique-agrest

# travis encrypt -r bootique/bootique-agrest "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-agrest "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "iqETNOPASA9CXq9NH8Gso3/CpMaZOOoKCcvjySKTnXRq3cjwWCxOl+Wst/i/jje63PYIGe98dXfinPUdXEi/G4jp7IAnL0FC7mC9CPV6QMXCcHVPEegjvqxqA61QUzLQxm33+sY3rGgBPRi13ELjL+c/8OlsmUPefjncqbS3/Q9AsMQoadJketGsje3AJJWUph7PeMGznEVqmoq8eNip5Tw6eXmwToijV355rIg8jLL/arkm6834XpywRuV6oXL6RAWvjMCwNpuRjnp2RoFiPJ1rYhyFmgU9L6/ERGmc2It02RZU+RqxBRxQDdvCpQStX8R/AiVccSiyuRtyImAuuCZKle5VEbourq/ehpD3cDb+EAWL1M72Ehc86CQfeWmm0AJbpNM4wgsYdDh3AsHGwEnvXMIQTZ7cVSA35f54wPgeC3ysyNx07lO9Y5qUfuWFHwdTQPYY1sf1Cs/B3lMqtkArHPcVnZusFdatuM/BjtcMeyEdRZk+utoG4f6Aygl2spI8XS4W9Bmh7IbgA77QvNOVFHuzbjeUA+mB/3p4lEDBTmkuHsNMZm3+4goRsSS6JzEijpfZVLWUWxuP3eQ1GUrOyzzDnYB/TRfa3ZR7bVitl8xiDT3N6doHTC3HX2ZaluL8yYiEac6lyVZS/RzAC+aA7spgbjiHaPOI94LmGfA="
    - secure: "uxZMdK6XXbAuDCiIkCIo5gcSqxwWS6c5UMkRdA/rhl9gTM94vcOXEHPKsYR+qVS3YCkDadQ+TecTdRrrkSB8vlTgOX4PDM7IsZedAngriGlmFmeEdR5PVAcd1yz9m9k8wMFLBsXCYNGHFxnG3sfRELsPME3E3R7njleXpCzvpG2E+nBsLpyLfhttbGfXh+Sy0c6NbCbwDkIcjliTSf2fyGwsLxtxXkt+dymZGs4+Yj1QCJpnhV0nvq9ls3DFQZfWVAANtwsdmSCoh2kGGTPGCeQsmrPRqwGRBcHQLxjN96rAzEd7Zg4xmn0dO6CoD1+VB4cvKscBQ/AhHuqvUFdr7tTrhfXbyrHt5bJylKCCxZqWokFu2PzhH8DQIHj3OuHlKPTQUxBHjOZeLI07wTxBsq8MeKvf20hUU9j23ReqPOxN+4fbXdpMyDOc6ZIy4EwaMr3RnxObetvlGNJd3j3fv6aENhqjTbgLinnCD5TtXYeJrbg7zrACX0qvI07QpeD9h5hVzOGDNBf+6+OLIvNko2kldY173uj0f9Qos3TyPWRF3njBR/aZTlSoVyi3Mb8iHz+He6aw/GTa77z4N1OXyGHtoR2BtWgF+T1K5wznguYMmQsvmrnExNvVDjr32w52QOSqxPkngaJ1YfFf+F+kTDnubRgVoSTSIYum/3JZPvA="
